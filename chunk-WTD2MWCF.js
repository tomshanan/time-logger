import{b as di,d as U,e as hi,f as mi,g as gi,h as pi,i as _i,j as ui,k as fi,l as vi,m as bi,n as yi,o as Di,p as wi,s as xi,t as Ci,v as Si,w as Pi,x as Ei,y as Ii}from"./chunk-B2CORS3Q.js";import{f as $e,g as qe,i as ee,j as ei,k as ii,l as mt,m as gt,n as ni,o as Rt,p as et,r as B,u as Ot,v as oi,w as si}from"./chunk-Y2AJGNUN.js";import{q as ci}from"./chunk-Y6Z3MSEC.js";import{a as ri,c as ai,g as li}from"./chunk-R5IAIHOB.js";import{$ as q,$a as Yt,$c as Ke,A as Pe,Aa as Ut,B as yt,Ba as Zt,Ca as d,D as Ee,Da as h,Ea as rt,Fa as Oe,G as $,Ga as Ae,Gc as Et,H as X,Hc as It,I as S,Ia as tt,J as f,Ja as ke,Jc as We,K as A,Kc as Ue,La as w,Mc as Tt,N as P,Na as b,O as M,Oc as Ze,P as J,Pc as te,Q as Dt,R as Ie,Ra as Me,Sa as Le,T as Te,Ta as Fe,U as Ht,V as y,Va as g,W as D,Wa as xt,Xa as at,Xc as Ye,a as O,aa as W,ab as j,ad as Qe,b as ye,ba as k,bd as Xe,ca as Gt,cb as Kt,cd as Je,d as vt,dd as ti,e as K,ea as v,eb as Qt,f as zt,fa as m,h as _,ha as $t,hb as Ne,i as De,ib as Ct,j as we,jc as lt,kb as Xt,lc as Ge,m as xe,mb as je,na as L,nc as ct,o as Ce,oa as Re,ob as V,p as bt,pa as wt,pb as Ve,pc as Jt,qa as qt,qc as St,ra as F,rc as dt,s as Se,sa as st,t as nt,ta as R,tb as Be,u as ot,ub as ze,uc as ht,va as N,w as G,xc as C,ya as Wt,z as Q,zb as He,zc as Pt}from"./chunk-QK4NCYDQ.js";function hn(o,i){}var Z=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}};var oe=(()=>{class o extends ii{constructor(t,e,n,s,r,a,l,c){super(),this._elementRef=t,this._focusTrapFactory=e,this._config=s,this._interactivityChecker=r,this._ngZone=a,this._overlayRef=l,this._focusMonitor=c,this._platform=A(Ge),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=A(Ct),this.attachDomPortal=p=>{this._portalOutlet.hasAttached();let u=this._portalOutlet.attachDomPortal(p);return this._contentAttached(),u},this._document=n,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(t){this._ariaLabelledByQueue.push(t),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(t){let e=this._ariaLabelledByQueue.indexOf(t);e>-1&&(this._ariaLabelledByQueue.splice(e,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();let e=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),e}attachTemplatePortal(t){this._portalOutlet.hasAttached();let e=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),e}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,e){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let n=()=>{t.removeEventListener("blur",n),t.removeEventListener("mousedown",n),t.removeAttribute("tabindex")};t.addEventListener("blur",n),t.addEventListener("mousedown",n)})),t.focus(e)}_focusByCssSelector(t,e){let n=this._elementRef.nativeElement.querySelector(t);n&&this._forceFocus(n,e)}_trapFocus(){let t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElementWhenReady().then(e=>{e||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}}_restoreFocus(){let t=this._config.restoreFocus,e=null;if(typeof t=="string"?e=this._document.querySelector(t):typeof t=="boolean"?e=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(e=t),this._config.restoreFocus&&e&&typeof e.focus=="function"){let n=St(),s=this._elementRef.nativeElement;(!n||n===this._document.body||n===s||s.contains(n))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let t=this._elementRef.nativeElement,e=St();return t===e||t.contains(e)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=St()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static{this.\u0275fac=function(e){return new(e||o)(m(W),m(It),m(V,8),m(Z),m(Et),m(L),m(et),m(Tt))}}static{this.\u0275cmp=M({type:o,selectors:[["cdk-dialog-container"]],viewQuery:function(e,n){if(e&1&&Me(mt,7),e&2){let s;Le(s=Fe())&&(n._portalOutlet=s.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,n){e&2&&st("id",n._config.id||null)("role",n._config.role)("aria-modal",n._config.ariaModal)("aria-labelledby",n._config.ariaLabel?null:n._ariaLabelledByQueue[0])("aria-label",n._config.ariaLabel)("aria-describedby",n._config.ariaDescribedBy||null)},standalone:!0,features:[wt,j],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,n){e&1&&F(0,hn,0,0,"ng-template",0)},dependencies:[mt],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}}return o})(),pt=class{constructor(i,t){this.overlayRef=i,this.config=t,this.closed=new _,this.disableClose=t.disableClose,this.backdropClick=i.backdropClick(),this.keydownEvents=i.keydownEvents(),this.outsidePointerEvents=i.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(e=>{e.keyCode===27&&!this.disableClose&&!Pt(e)&&(e.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=i.detachments().subscribe(()=>{t.closeOnOverlayDetachments!==!1&&this.close()})}close(i,t){if(this.containerInstance){let e=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),e.next(i),e.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(i="",t=""){return this.overlayRef.updateSize({width:i,height:t}),this}addPanelClass(i){return this.overlayRef.addPanelClass(i),this}removePanelClass(i){return this.overlayRef.removePanelClass(i),this}},mn=new S("DialogScrollStrategy",{providedIn:"root",factory:()=>{let o=A(B);return()=>o.scrollStrategies.block()}}),gn=new S("DialogData"),pn=new S("DefaultDialogConfig");var _n=0,se=(()=>{class o{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,e,n,s,r,a){this._overlay=t,this._injector=e,this._defaultOptions=n,this._parentDialog=s,this._overlayContainer=r,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new _,this._afterOpenedAtThisLevel=new _,this._ariaHiddenElements=new Map,this.afterAllClosed=bt(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Q(void 0))),this._scrollStrategy=a}open(t,e){let n=this._defaultOptions||new Z;e=O(O({},n),e),e.id=e.id||`cdk-dialog-${_n++}`,e.id&&this.getDialogById(e.id);let s=this._getOverlayConfig(e),r=this._overlay.create(s),a=new pt(r,e),l=this._attachContainer(r,a,e);return a.containerInstance=l,this._attachDialogContent(t,a,l,e),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){ie(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(e=>e.id===t)}ngOnDestroy(){ie(this._openDialogsAtThisLevel,t=>{t.config.closeOnDestroy===!1&&this._removeOpenDialog(t,!1)}),ie(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){let e=new ni({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}_attachContainer(t,e,n){let s=n.injector||n.viewContainerRef?.injector,r=[{provide:Z,useValue:n},{provide:pt,useValue:e},{provide:et,useValue:t}],a;n.container?typeof n.container=="function"?a=n.container:(a=n.container.type,r.push(...n.container.providers(n))):a=oe;let l=new ee(a,n.viewContainerRef,q.create({parent:s||this._injector,providers:r}),n.componentFactoryResolver);return t.attach(l).instance}_attachDialogContent(t,e,n,s){if(t instanceof $t){let r=this._createInjector(s,e,n,void 0),a={$implicit:s.data,dialogRef:e};s.templateContext&&(a=O(O({},a),typeof s.templateContext=="function"?s.templateContext():s.templateContext)),n.attachTemplatePortal(new ei(t,null,a,r))}else{let r=this._createInjector(s,e,n,this._injector),a=n.attachComponentPortal(new ee(t,s.viewContainerRef,r,s.componentFactoryResolver));e.componentRef=a,e.componentInstance=a.instance}}_createInjector(t,e,n,s){let r=t.injector||t.viewContainerRef?.injector,a=[{provide:gn,useValue:t.data},{provide:pt,useValue:e}];return t.providers&&(typeof t.providers=="function"?a.push(...t.providers(e,t,n)):a.push(...t.providers)),t.direction&&(!r||!r.get(lt,null,{optional:!0}))&&a.push({provide:lt,useValue:{value:t.direction,change:xe()}}),q.create({parent:r||s,providers:a})}_removeOpenDialog(t,e){let n=this.openDialogs.indexOf(t);n>-1&&(this.openDialogs.splice(n,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,r)=>{s?r.setAttribute("aria-hidden",s):r.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),e&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let t=this._overlayContainer.getContainerElement();if(t.parentElement){let e=t.parentElement.children;for(let n=e.length-1;n>-1;n--){let s=e[n];s!==t&&s.nodeName!=="SCRIPT"&&s.nodeName!=="STYLE"&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}static{this.\u0275fac=function(e){return new(e||o)(f(B),f(q),f(pn,8),f(o,12),f(Rt),f(mn))}}static{this.\u0275prov=$({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();function ie(o,i){let t=o.length;for(;t--;)i(o[t])}var Ti=(()=>{class o{static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275mod=J({type:o})}static{this.\u0275inj=X({providers:[se],imports:[Ot,gt,Ze,gt]})}}return o})();function fn(o,i){}var _t=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}},re="mdc-dialog--open",Ri="mdc-dialog--opening",Oi="mdc-dialog--closing",vn=150,bn=75,yn=(()=>{class o extends oe{constructor(t,e,n,s,r,a,l,c,p){super(t,e,n,s,r,a,l,p),this._animationMode=c,this._animationStateChanged=new k,this._animationsEnabled=this._animationMode!=="NoopAnimations",this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?ki(this._config.enterAnimationDuration)??vn:0,this._exitAnimationDuration=this._animationsEnabled?ki(this._config.exitAnimationDuration)??bn:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(Ai,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Ri,re)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(re),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(re),this._animationsEnabled?(this._hostElement.style.setProperty(Ai,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Oi)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(t){this._actionSectionCount+=t,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(Ri,Oi)}_waitForAnimationToComplete(t,e){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(e,t)}_requestAnimationFrame(t){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(t):t()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(t){let e=super.attachComponentPortal(t);return e.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),e}static{this.\u0275fac=function(e){return new(e||o)(m(W),m(It),m(V,8),m(_t),m(Et),m(L),m(et),m(Gt,8),m(Tt))}}static{this.\u0275cmp=M({type:o,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(e,n){e&2&&(ke("id",n._config.id),st("aria-modal",n._config.ariaModal)("role",n._config.role)("aria-labelledby",n._config.ariaLabel?null:n._ariaLabelledByQueue[0])("aria-label",n._config.ariaLabel)("aria-describedby",n._config.ariaDescribedBy||null),N("_mat-animation-noopable",!n._animationsEnabled)("mat-mdc-dialog-container-with-actions",n._actionSectionCount>0))},standalone:!0,features:[wt,j],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(e,n){e&1&&(d(0,"div",0)(1,"div",1),F(2,fn,0,0,"ng-template",2),h()())},dependencies:[mt],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0;transform:scale(0.8)}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--closing .mdc-dialog__surface{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{opacity:1}.mdc-dialog--open .mdc-dialog__surface{transform:none}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{width:100%;height:100%}.mat-mdc-dialog-component-host{display:contents}.mat-mdc-dialog-container{--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition:opacity linear var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container .mdc-dialog__surface{transition:transform var(--mat-dialog-transition-duration, 0ms) 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container,.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__surface{transition:none}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-title{padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}}return o})(),Ai="--mat-dialog-transition-duration";function ki(o){return o==null?null:typeof o=="number"?o:o.endsWith("ms")?ht(o.substring(0,o.length-2)):o.endsWith("s")?ht(o.substring(0,o.length-1))*1e3:o==="0"?0:null}var kt=function(o){return o[o.OPEN=0]="OPEN",o[o.CLOSING=1]="CLOSING",o[o.CLOSED=2]="CLOSED",o}(kt||{}),ae=class{constructor(i,t,e){this._ref=i,this._containerInstance=e,this._afterOpened=new _,this._beforeClosed=new _,this._state=kt.OPEN,this.disableClose=t.disableClose,this.id=i.id,i.addPanelClass("mat-mdc-dialog-panel"),e._animationStateChanged.pipe(ot(n=>n.state==="opened"),G(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(ot(n=>n.state==="closed"),G(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),i.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),nt(this.backdropClick(),this.keydownEvents().pipe(ot(n=>n.keyCode===27&&!this.disableClose&&!Pt(n)))).subscribe(n=>{this.disableClose||(n.preventDefault(),Dn(this,n.type==="keydown"?"keyboard":"mouse"))})}close(i){this._result=i,this._containerInstance._animationStateChanged.pipe(ot(t=>t.state==="closing"),G(1)).subscribe(t=>{this._beforeClosed.next(i),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=kt.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(i){let t=this._ref.config.positionStrategy;return i&&(i.left||i.right)?i.left?t.left(i.left):t.right(i.right):t.centerHorizontally(),i&&(i.top||i.bottom)?i.top?t.top(i.top):t.bottom(i.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(i="",t=""){return this._ref.updateSize(i,t),this}addPanelClass(i){return this._ref.addPanelClass(i),this}removePanelClass(i){return this._ref.removePanelClass(i),this}getState(){return this._state}_finishDialogClose(){this._state=kt.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function Dn(o,i,t){return o._closeInteractionType=i,o.close(t)}var wn=new S("MatMdcDialogData"),xn=new S("mat-mdc-dialog-default-options"),Cn=new S("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let o=A(B);return()=>o.scrollStrategies.block()}});var Sn=0,le=(()=>{class o{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(t,e,n,s,r,a,l,c){this._overlay=t,this._defaultOptions=s,this._scrollStrategy=r,this._parentDialog=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new _,this._afterOpenedAtThisLevel=new _,this.dialogConfigClass=_t,this.afterAllClosed=bt(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Q(void 0))),this._dialog=e.get(se),this._dialogRefConstructor=ae,this._dialogContainerType=yn,this._dialogDataToken=wn}open(t,e){let n;e=O(O({},this._defaultOptions||new _t),e),e.id=e.id||`mat-mdc-dialog-${Sn++}`,e.scrollStrategy=e.scrollStrategy||this._scrollStrategy();let s=this._dialog.open(t,ye(O({},e),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:e},{provide:Z,useValue:e}]},templateContext:()=>({dialogRef:n}),providers:(r,a,l)=>(n=new this._dialogRefConstructor(r,e,l),n.updatePosition(e?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:n}])}));return n.componentRef=s.componentRef,n.componentInstance=s.componentInstance,this.openDialogs.push(n),this.afterOpened.next(n),n.afterClosed().subscribe(()=>{let r=this.openDialogs.indexOf(n);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||this._getAfterAllClosed().next())}),n}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(e=>e.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let e=t.length;for(;e--;)t[e].close()}static{this.\u0275fac=function(e){return new(e||o)(f(B),f(q),f(Ve,8),f(xn,8),f(Cn),f(o,12),f(Rt),f(Gt,8))}}static{this.\u0275prov=$({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var Mi=(()=>{class o{static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275mod=J({type:o})}static{this.\u0275inj=X({providers:[le],imports:[Ti,Ot,gt,te,te]})}}return o})();var Li=(()=>{class o{transform(t,e){return t?t.filter(n=>n.type===e):[]}static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275pipe=Ie({name:"activityFilter",type:o,pure:!0,standalone:!0})}}return o})();function ue(o,i,t){for(let e in i)if(i.hasOwnProperty(e)){let n=i[e];n?o.setProperty(e,n,t?.has(e)?"important":""):o.removeProperty(e)}return o}function it(o,i){let t=i?"":"none";ue(o.style,{"touch-action":i?"":"none","-webkit-user-drag":i?"":"none","-webkit-tap-highlight-color":i?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function Fi(o,i,t){ue(o.style,{position:i?"":"fixed",top:i?"":"0",opacity:i?"":"0",left:i?"":"-999em"},t)}function Nt(o,i){return i&&i!="none"?o+" "+i:o}function Ni(o,i){o.style.width=`${i.width}px`,o.style.height=`${i.height}px`,o.style.transform=jt(i.left,i.top)}function jt(o,i){return`translate3d(${Math.round(o)}px, ${Math.round(i)}px, 0)`}function fe(o){let i=o.getBoundingClientRect();return{top:i.top,right:i.right,bottom:i.bottom,left:i.left,width:i.width,height:i.height,x:i.x,y:i.y}}function de(o,i,t){let{top:e,bottom:n,left:s,right:r}=o;return t>=e&&t<=n&&i>=s&&i<=r}function ft(o,i,t){o.top+=i,o.bottom=o.top+o.height,o.left+=t,o.right=o.left+o.width}function ji(o,i,t,e){let{top:n,right:s,bottom:r,left:a,width:l,height:c}=o,p=l*i,u=c*i;return e>n-u&&e<r+u&&t>a-p&&t<s+p}var Vt=class{constructor(i){this._document=i,this.positions=new Map}clear(){this.positions.clear()}cache(i){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),i.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:fe(t)})})}handleScroll(i){let t=dt(i),e=this.positions.get(t);if(!e)return null;let n=e.scrollPosition,s,r;if(t===this._document){let c=this.getViewportScrollPosition();s=c.top,r=c.left}else s=t.scrollTop,r=t.scrollLeft;let a=n.top-s,l=n.left-r;return this.positions.forEach((c,p)=>{c.clientRect&&t!==p&&t.contains(p)&&ft(c.clientRect,a,l)}),n.top=s,n.left=r,{top:a,left:l}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function Ki(o){let i=o.cloneNode(!0),t=i.querySelectorAll("[id]"),e=o.nodeName.toLowerCase();i.removeAttribute("id");for(let n=0;n<t.length;n++)t[n].removeAttribute("id");return e==="canvas"?zi(o,i):(e==="input"||e==="select"||e==="textarea")&&Bi(o,i),Vi("canvas",o,i,zi),Vi("input, textarea, select",o,i,Bi),i}function Vi(o,i,t,e){let n=i.querySelectorAll(o);if(n.length){let s=t.querySelectorAll(o);for(let r=0;r<n.length;r++)e(n[r],s[r])}}var En=0;function Bi(o,i){i.type!=="file"&&(i.value=o.value),i.type==="radio"&&i.name&&(i.name=`mat-clone-${i.name}-${En++}`)}function zi(o,i){let t=i.getContext("2d");if(t)try{t.drawImage(o,0,0)}catch{}}function Qi(o,i){let t=o.rootNodes;if(t.length===1&&t[0].nodeType===i.ELEMENT_NODE)return t[0];let e=i.createElement("div");return t.forEach(n=>e.appendChild(n)),e}function Hi(o){let i=o.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(o)*i}function In(o){let i=getComputedStyle(o),t=ce(i,"transition-property"),e=t.find(a=>a==="transform"||a==="all");if(!e)return 0;let n=t.indexOf(e),s=ce(i,"transition-duration"),r=ce(i,"transition-delay");return Hi(s[n])+Hi(r[n])}function ce(o,i){return o.getPropertyValue(i).split(",").map(e=>e.trim())}var Tn=new Set(["position"]),he=class{constructor(i,t,e,n,s,r,a,l,c){this._document=i,this._rootElement=t,this._direction=e,this._initialDomRect=n,this._previewTemplate=s,this._previewClass=r,this._pickupPositionOnPage=a,this._initialTransform=l,this._zIndex=c}attach(i){this._preview=this._createPreview(),i.appendChild(this._preview),"showPopover"in this._preview&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(i){this._preview.style.transform=i}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(i){this._preview.classList.add(i)}getTransitionDuration(){return In(this._preview)}addEventListener(i,t){this._preview.addEventListener(i,t)}removeEventListener(i,t){this._preview.removeEventListener(i,t)}_createPreview(){let i=this._previewTemplate,t=this._previewClass,e=i?i.template:null,n;if(e&&i){let s=i.matchSize?this._initialDomRect:null,r=i.viewContainer.createEmbeddedView(e,i.context);r.detectChanges(),n=Qi(r,this._document),this._previewEmbeddedView=r,i.matchSize?Ni(n,s):n.style.transform=jt(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else n=Ki(this._rootElement),Ni(n,this._initialDomRect),this._initialTransform&&(n.style.transform=this._initialTransform);return ue(n.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},Tn),it(n,!1),n.classList.add("cdk-drag-preview"),n.setAttribute("popover","manual"),n.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(s=>n.classList.add(s)):n.classList.add(t)),n}},Gi=ct({passive:!0}),Mt=ct({passive:!1}),$i=ct({passive:!1,capture:!0}),Rn=800,qi=new Set(["position"]),me=class{get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(i){i!==this._disabled&&(this._disabled=i,this._toggleNativeDragInteractions(),this._handles.forEach(t=>it(t,i)))}constructor(i,t,e,n,s,r){this._config=t,this._document=e,this._ngZone=n,this._viewportRuler=s,this._dragDropRegistry=r,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new _,this._pointerMoveSubscription=K.EMPTY,this._pointerUpSubscription=K.EMPTY,this._scrollSubscription=K.EMPTY,this._resizeSubscription=K.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new _,this.started=new _,this.released=new _,this.ended=new _,this.entered=new _,this.exited=new _,this.dropped=new _,this.moved=this._moveEvents,this._pointerDown=a=>{if(this.beforeStarted.next(),this._handles.length){let l=this._getTargetHandle(a);l&&!this._disabledHandles.has(l)&&!this.disabled&&this._initializeDragSequence(l,a)}else this.disabled||this._initializeDragSequence(this._rootElement,a)},this._pointerMove=a=>{let l=this._getPointerPositionOnPage(a);if(!this._hasStartedDragging){let p=Math.abs(l.x-this._pickupPositionOnPage.x),u=Math.abs(l.y-this._pickupPositionOnPage.y);if(p+u>=this._config.dragStartThreshold){let z=Date.now()>=this._dragStartTime+this._getDragStartDelay(a),H=this._dropContainer;if(!z){this._endDragSequence(a);return}(!H||!H.isDragging()&&!H.isReceiving())&&(a.cancelable&&a.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(a)))}return}a.cancelable&&a.preventDefault();let c=this._getConstrainedPointerPosition(l);if(this._hasMoved=!0,this._lastKnownPointerPosition=l,this._updatePointerDirectionDelta(c),this._dropContainer)this._updateActiveDropContainer(c,l);else{let p=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,u=this._activeTransform;u.x=c.x-p.x+this._passiveTransform.x,u.y=c.y-p.y+this._passiveTransform.y,this._applyRootElementTransform(u.x,u.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:c,event:a,distance:this._getDragDistance(c),delta:this._pointerDirectionDelta})})},this._pointerUp=a=>{this._endDragSequence(a)},this._nativeDragStart=a=>{if(this._handles.length){let l=this._getTargetHandle(a);l&&!this._disabledHandles.has(l)&&!this.disabled&&a.preventDefault()}else this.disabled||a.preventDefault()},this.withRootElement(i).withParent(t.parentDragRef||null),this._parentPositions=new Vt(e),r.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(i){this._handles=i.map(e=>C(e)),this._handles.forEach(e=>it(e,this.disabled)),this._toggleNativeDragInteractions();let t=new Set;return this._disabledHandles.forEach(e=>{this._handles.indexOf(e)>-1&&t.add(e)}),this._disabledHandles=t,this}withPreviewTemplate(i){return this._previewTemplate=i,this}withPlaceholderTemplate(i){return this._placeholderTemplate=i,this}withRootElement(i){let t=C(i);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,Mt),t.addEventListener("touchstart",this._pointerDown,Gi),t.addEventListener("dragstart",this._nativeDragStart,Mt)}),this._initialTransform=void 0,this._rootElement=t),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(i){return this._boundaryElement=i?C(i):null,this._resizeSubscription.unsubscribe(),i&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(i){return this._parentDragRef=i,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(i){!this._disabledHandles.has(i)&&this._handles.indexOf(i)>-1&&(this._disabledHandles.add(i),it(i,!0))}enableHandle(i){this._disabledHandles.has(i)&&(this._disabledHandles.delete(i),it(i,this.disabled))}withDirection(i){return this._direction=i,this}_withDropContainer(i){this._dropContainer=i}getFreeDragPosition(){let i=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:i.x,y:i.y}}setFreeDragPosition(i){return this._activeTransform={x:0,y:0},this._passiveTransform.x=i.x,this._passiveTransform.y=i.y,this._dropContainer||this._applyRootElementTransform(i.x,i.y),this}withPreviewContainer(i){return this._previewContainer=i,this}_sortFromLastPointerPosition(){let i=this._lastKnownPointerPosition;i&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(i),i)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._getShadowRoot()?.removeEventListener("selectstart",Ui,$i)}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(i){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging))if(this.released.next({source:this,event:i}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(i),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let t=this._getPointerPositionOnPage(i);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t,event:i})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(i){ut(i)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let t=this._getShadowRoot(),e=this._dropContainer;if(t&&this._ngZone.runOutsideAngular(()=>{t.addEventListener("selectstart",Ui,$i)}),e){let n=this._rootElement,s=n.parentNode,r=this._placeholder=this._createPlaceholderElement(),a=this._anchor=this._anchor||this._document.createComment("");s.insertBefore(a,n),this._initialTransform=n.style.transform||"",this._preview=new he(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3),this._preview.attach(this._getPreviewInsertionPoint(s,t)),Fi(n,!1,qi),this._document.body.appendChild(s.replaceChild(r,n)),this.started.next({source:this,event:i}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this,event:i}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(i,t){this._parentDragRef&&t.stopPropagation();let e=this.isDragging(),n=ut(t),s=!n&&t.button!==0,r=this._rootElement,a=dt(t),l=!n&&this._lastTouchEventTime&&this._lastTouchEventTime+Rn>Date.now(),c=n?Ue(t):We(t);if(a&&a.draggable&&t.type==="mousedown"&&t.preventDefault(),e||s||l||c)return;if(this._handles.length){let E=r.style;this._rootElementTapHighlight=E.webkitTapHighlightColor||"",E.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(E=>this._updateOnScroll(E)),this._boundaryElement&&(this._boundaryRect=fe(this._boundaryElement));let p=this._previewTemplate;this._pickupPositionInElement=p&&p.template&&!p.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,i,t);let u=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:u.x,y:u.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(i){Fi(this._rootElement,!0,qi),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let t=this._dropContainer,e=t.getItemIndex(this),n=this._getPointerPositionOnPage(i),s=this._getDragDistance(n),r=t._isOverContainer(n.x,n.y);this.ended.next({source:this,distance:s,dropPoint:n,event:i}),this.dropped.next({item:this,currentIndex:e,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:r,distance:s,dropPoint:n,event:i}),t.drop(this,e,this._initialIndex,this._initialContainer,r,s,n,i),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:i,y:t},{x:e,y:n}){let s=this._initialContainer._getSiblingContainerFromPosition(this,i,t);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(i,t)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=s,this._dropContainer.enter(this,i,t,s===this._initialContainer&&s.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:s,currentIndex:s.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(e,n),this._dropContainer._sortItem(this,i,t,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(i,t):this._applyPreviewTransform(i-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let i=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(i.left,i.top);let t=this._preview.getTransitionDuration();return t===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(e=>{let n=r=>{(!r||dt(r)===this._preview&&r.propertyName==="transform")&&(this._preview?.removeEventListener("transitionend",n),e(),clearTimeout(s))},s=setTimeout(n,t*1.5);this._preview.addEventListener("transitionend",n)}))}_createPlaceholderElement(){let i=this._placeholderTemplate,t=i?i.template:null,e;return t?(this._placeholderRef=i.viewContainer.createEmbeddedView(t,i.context),this._placeholderRef.detectChanges(),e=Qi(this._placeholderRef,this._document)):e=Ki(this._rootElement),e.style.pointerEvents="none",e.classList.add("cdk-drag-placeholder"),e}_getPointerPositionInElement(i,t,e){let n=t===this._rootElement?null:t,s=n?n.getBoundingClientRect():i,r=ut(e)?e.targetTouches[0]:e,a=this._getViewportScrollPosition(),l=r.pageX-s.left-a.left,c=r.pageY-s.top-a.top;return{x:s.left-i.left+l,y:s.top-i.top+c}}_getPointerPositionOnPage(i){let t=this._getViewportScrollPosition(),e=ut(i)?i.touches[0]||i.changedTouches[0]||{pageX:0,pageY:0}:i,n=e.pageX-t.left,s=e.pageY-t.top;if(this._ownerSVGElement){let r=this._ownerSVGElement.getScreenCTM();if(r){let a=this._ownerSVGElement.createSVGPoint();return a.x=n,a.y=s,a.matrixTransform(r.inverse())}}return{x:n,y:s}}_getConstrainedPointerPosition(i){let t=this._dropContainer?this._dropContainer.lockAxis:null,{x:e,y:n}=this.constrainPosition?this.constrainPosition(i,this,this._initialDomRect,this._pickupPositionInElement):i;if(this.lockAxis==="x"||t==="x"?n=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||t==="y")&&(e=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:s,y:r}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,a=this._boundaryRect,{width:l,height:c}=this._getPreviewRect(),p=a.top+r,u=a.bottom-(c-r),E=a.left+s,z=a.right-(l-s);e=Wi(e,E,z),n=Wi(n,p,u)}return{x:e,y:n}}_updatePointerDirectionDelta(i){let{x:t,y:e}=i,n=this._pointerDirectionDelta,s=this._pointerPositionAtLastDirectionChange,r=Math.abs(t-s.x),a=Math.abs(e-s.y);return r>this._config.pointerDirectionChangeThreshold&&(n.x=t>s.x?1:-1,s.x=t),a>this._config.pointerDirectionChangeThreshold&&(n.y=e>s.y?1:-1,s.y=e),n}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let i=this._handles.length>0||!this.isDragging();i!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=i,it(this._rootElement,i))}_removeRootElementListeners(i){i.removeEventListener("mousedown",this._pointerDown,Mt),i.removeEventListener("touchstart",this._pointerDown,Gi),i.removeEventListener("dragstart",this._nativeDragStart,Mt)}_applyRootElementTransform(i,t){let e=jt(i,t),n=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=n.transform&&n.transform!="none"?n.transform:""),n.transform=Nt(e,this._initialTransform)}_applyPreviewTransform(i,t){let e=this._previewTemplate?.template?void 0:this._initialTransform,n=jt(i,t);this._preview.setTransform(Nt(n,e))}_getDragDistance(i){let t=this._pickupPositionOnPage;return t?{x:i.x-t.x,y:i.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:i,y:t}=this._passiveTransform;if(i===0&&t===0||this.isDragging()||!this._boundaryElement)return;let e=this._rootElement.getBoundingClientRect(),n=this._boundaryElement.getBoundingClientRect();if(n.width===0&&n.height===0||e.width===0&&e.height===0)return;let s=n.left-e.left,r=e.right-n.right,a=n.top-e.top,l=e.bottom-n.bottom;n.width>e.width?(s>0&&(i+=s),r>0&&(i-=r)):i=0,n.height>e.height?(a>0&&(t+=a),l>0&&(t-=l)):t=0,(i!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:i})}_getDragStartDelay(i){let t=this.dragStartDelay;return typeof t=="number"?t:ut(i)?t.touch:t?t.mouse:0}_updateOnScroll(i){let t=this._parentPositions.handleScroll(i);if(t){let e=dt(i);this._boundaryRect&&e!==this._boundaryElement&&e.contains(this._boundaryElement)&&ft(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=Jt(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(i,t){let e=this._previewContainer||"global";if(e==="parent")return i;if(e==="global"){let n=this._document;return t||n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement||n.body}return C(e)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_getTargetHandle(i){return this._handles.find(t=>i.target&&(i.target===t||t.contains(i.target)))}};function Wi(o,i,t){return Math.max(i,Math.min(t,o))}function ut(o){return o.type[0]==="t"}function Ui(o){o.preventDefault()}function On(o,i,t){let e=Zi(i,o.length-1),n=Zi(t,o.length-1);if(e===n)return;let s=o[e],r=n<e?-1:1;for(let a=e;a!==n;a+=r)o[a]=o[a+r];o[n]=s}function Zi(o,i){return Math.max(0,Math.min(i,o))}var ge=class{constructor(i,t){this._element=i,this._dragDropRegistry=t,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(i){this.withItems(i)}sort(i,t,e,n){let s=this._itemPositions,r=this._getItemIndexFromPointerPosition(i,t,e,n);if(r===-1&&s.length>0)return null;let a=this.orientation==="horizontal",l=s.findIndex(I=>I.drag===i),c=s[r],p=s[l].clientRect,u=c.clientRect,E=l>r?1:-1,z=this._getItemOffsetPx(p,u,E),H=this._getSiblingOffsetPx(l,s,E),Y=s.slice();return On(s,l,r),s.forEach((I,ln)=>{if(Y[ln]===I)return;let ve=I.drag===i,Bt=ve?z:H,be=ve?i.getPlaceholderElement():I.drag.getRootElement();I.offset+=Bt,a?(be.style.transform=Nt(`translate3d(${Math.round(I.offset)}px, 0, 0)`,I.initialTransform),ft(I.clientRect,0,Bt)):(be.style.transform=Nt(`translate3d(0, ${Math.round(I.offset)}px, 0)`,I.initialTransform),ft(I.clientRect,Bt,0))}),this._previousSwap.overlaps=de(u,t,e),this._previousSwap.drag=c.drag,this._previousSwap.delta=a?n.x:n.y,{previousIndex:l,currentIndex:r}}enter(i,t,e,n){let s=n==null||n<0?this._getItemIndexFromPointerPosition(i,t,e):n,r=this._activeDraggables,a=r.indexOf(i),l=i.getPlaceholderElement(),c=r[s];if(c===i&&(c=r[s+1]),!c&&(s==null||s===-1||s<r.length-1)&&this._shouldEnterAsFirstChild(t,e)&&(c=r[0]),a>-1&&r.splice(a,1),c&&!this._dragDropRegistry.isDragging(c)){let p=c.getRootElement();p.parentElement.insertBefore(l,p),r.splice(s,0,i)}else C(this._element).appendChild(l),r.push(i);l.style.transform="",this._cacheItemPositions()}withItems(i){this._activeDraggables=i.slice(),this._cacheItemPositions()}withSortPredicate(i){this._sortPredicate=i}reset(){this._activeDraggables.forEach(i=>{let t=i.getRootElement();if(t){let e=this._itemPositions.find(n=>n.drag===i)?.initialTransform;t.style.transform=e||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(i){return(this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions).findIndex(e=>e.drag===i)}updateOnScroll(i,t){this._itemPositions.forEach(({clientRect:e})=>{ft(e,i,t)}),this._itemPositions.forEach(({drag:e})=>{this._dragDropRegistry.isDragging(e)&&e._sortFromLastPointerPosition()})}_cacheItemPositions(){let i=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(t=>{let e=t.getVisibleElement();return{drag:t,offset:0,initialTransform:e.style.transform||"",clientRect:fe(e)}}).sort((t,e)=>i?t.clientRect.left-e.clientRect.left:t.clientRect.top-e.clientRect.top)}_getItemOffsetPx(i,t,e){let n=this.orientation==="horizontal",s=n?t.left-i.left:t.top-i.top;return e===-1&&(s+=n?t.width-i.width:t.height-i.height),s}_getSiblingOffsetPx(i,t,e){let n=this.orientation==="horizontal",s=t[i].clientRect,r=t[i+e*-1],a=s[n?"width":"height"]*e;if(r){let l=n?"left":"top",c=n?"right":"bottom";e===-1?a-=r.clientRect[l]-s[c]:a+=s[l]-r.clientRect[c]}return a}_shouldEnterAsFirstChild(i,t){if(!this._activeDraggables.length)return!1;let e=this._itemPositions,n=this.orientation==="horizontal";if(e[0].drag!==this._activeDraggables[0]){let r=e[e.length-1].clientRect;return n?i>=r.right:t>=r.bottom}else{let r=e[0].clientRect;return n?i<=r.left:t<=r.top}}_getItemIndexFromPointerPosition(i,t,e,n){let s=this.orientation==="horizontal",r=this._itemPositions.findIndex(({drag:a,clientRect:l})=>{if(a===i)return!1;if(n){let c=s?n.x:n.y;if(a===this._previousSwap.drag&&this._previousSwap.overlaps&&c===this._previousSwap.delta)return!1}return s?t>=Math.floor(l.left)&&t<Math.floor(l.right):e>=Math.floor(l.top)&&e<Math.floor(l.bottom)});return r===-1||!this._sortPredicate(r,i)?-1:r}},Yi=.05,Xi=.05,T=function(o){return o[o.NONE=0]="NONE",o[o.UP=1]="UP",o[o.DOWN=2]="DOWN",o}(T||{}),x=function(o){return o[o.NONE=0]="NONE",o[o.LEFT=1]="LEFT",o[o.RIGHT=2]="RIGHT",o}(x||{}),pe=class{constructor(i,t,e,n,s){this._dragDropRegistry=t,this._ngZone=n,this._viewportRuler=s,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new _,this.entered=new _,this.exited=new _,this.dropped=new _,this.sorted=new _,this.receivingStarted=new _,this.receivingStopped=new _,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=K.EMPTY,this._verticalScrollDirection=T.NONE,this._horizontalScrollDirection=x.NONE,this._stopScrollTimers=new _,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),Se(0,we).pipe(yt(this._stopScrollTimers)).subscribe(()=>{let r=this._scrollNode,a=this.autoScrollStep;this._verticalScrollDirection===T.UP?r.scrollBy(0,-a):this._verticalScrollDirection===T.DOWN&&r.scrollBy(0,a),this._horizontalScrollDirection===x.LEFT?r.scrollBy(-a,0):this._horizontalScrollDirection===x.RIGHT&&r.scrollBy(a,0)})},this.element=C(i),this._document=e,this.withScrollableParents([this.element]),t.registerDropContainer(this),this._parentPositions=new Vt(e),this._sortStrategy=new ge(this.element,t),this._sortStrategy.withSortPredicate((r,a)=>this.sortPredicate(r,a,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(i,t,e,n){this._draggingStarted(),n==null&&this.sortingDisabled&&(n=this._draggables.indexOf(i)),this._sortStrategy.enter(i,t,e,n),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:i,container:this,currentIndex:this.getItemIndex(i)})}exit(i){this._reset(),this.exited.next({item:i,container:this})}drop(i,t,e,n,s,r,a,l={}){this._reset(),this.dropped.next({item:i,currentIndex:t,previousIndex:e,container:this,previousContainer:n,isPointerOverContainer:s,distance:r,dropPoint:a,event:l})}withItems(i){let t=this._draggables;return this._draggables=i,i.forEach(e=>e._withDropContainer(this)),this.isDragging()&&(t.filter(n=>n.isDragging()).every(n=>i.indexOf(n)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(i){return this._sortStrategy.direction=i,this}connectedTo(i){return this._siblings=i.slice(),this}withOrientation(i){return this._sortStrategy.orientation=i,this}withScrollableParents(i){let t=C(this.element);return this._scrollableElements=i.indexOf(t)===-1?[t,...i]:i.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(i){return this._isDragging?this._sortStrategy.getItemIndex(i):this._draggables.indexOf(i)}isReceiving(){return this._activeSiblings.size>0}_sortItem(i,t,e,n){if(this.sortingDisabled||!this._domRect||!ji(this._domRect,Yi,t,e))return;let s=this._sortStrategy.sort(i,t,e,n);s&&this.sorted.next({previousIndex:s.previousIndex,currentIndex:s.currentIndex,container:this,item:i})}_startScrollingIfNecessary(i,t){if(this.autoScrollDisabled)return;let e,n=T.NONE,s=x.NONE;if(this._parentPositions.positions.forEach((r,a)=>{a===this._document||!r.clientRect||e||ji(r.clientRect,Yi,i,t)&&([n,s]=An(a,r.clientRect,this._sortStrategy.direction,i,t),(n||s)&&(e=a))}),!n&&!s){let{width:r,height:a}=this._viewportRuler.getViewportSize(),l={width:r,height:a,top:0,right:r,bottom:a,left:0};n=Ji(l,t),s=tn(l,i),e=window}e&&(n!==this._verticalScrollDirection||s!==this._horizontalScrollDirection||e!==this._scrollNode)&&(this._verticalScrollDirection=n,this._horizontalScrollDirection=s,this._scrollNode=e,(n||s)&&e?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let i=C(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=i.msScrollSnapType||i.scrollSnapType||"",i.scrollSnapType=i.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){let i=C(this.element);this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(i).clientRect}_reset(){this._isDragging=!1;let i=C(this.element).style;i.scrollSnapType=i.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(t=>t._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(i,t){return this._domRect!=null&&de(this._domRect,i,t)}_getSiblingContainerFromPosition(i,t,e){return this._siblings.find(n=>n._canReceive(i,t,e))}_canReceive(i,t,e){if(!this._domRect||!de(this._domRect,t,e)||!this.enterPredicate(i,this))return!1;let n=this._getShadowRoot().elementFromPoint(t,e);if(!n)return!1;let s=C(this.element);return n===s||s.contains(n)}_startReceiving(i,t){let e=this._activeSiblings;!e.has(i)&&t.every(n=>this.enterPredicate(n,this)||this._draggables.indexOf(n)>-1)&&(e.add(i),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:i,receiver:this,items:t}))}_stopReceiving(i){this._activeSiblings.delete(i),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:i,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(i=>{if(this.isDragging()){let t=this._parentPositions.handleScroll(i);t&&this._sortStrategy.updateOnScroll(t.top,t.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let i=Jt(C(this.element));this._cachedShadowRoot=i||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let i=this._sortStrategy.getActiveItemsSnapshot().filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,i))}};function Ji(o,i){let{top:t,bottom:e,height:n}=o,s=n*Xi;return i>=t-s&&i<=t+s?T.UP:i>=e-s&&i<=e+s?T.DOWN:T.NONE}function tn(o,i){let{left:t,right:e,width:n}=o,s=n*Xi;return i>=t-s&&i<=t+s?x.LEFT:i>=e-s&&i<=e+s?x.RIGHT:x.NONE}function An(o,i,t,e,n){let s=Ji(i,n),r=tn(i,e),a=T.NONE,l=x.NONE;if(s){let c=o.scrollTop;s===T.UP?c>0&&(a=T.UP):o.scrollHeight-c>o.clientHeight&&(a=T.DOWN)}if(r){let c=o.scrollLeft;t==="rtl"?r===x.RIGHT?c<0&&(l=x.RIGHT):o.scrollWidth+c>o.clientWidth&&(l=x.LEFT):r===x.LEFT?c>0&&(l=x.LEFT):o.scrollWidth-c>o.clientWidth&&(l=x.RIGHT)}return[a,l]}var Lt=ct({passive:!1,capture:!0}),Ft=new Set,kn=(()=>{class o{static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275cmp=M({type:o,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],standalone:!0,features:[j],decls:0,vars:0,template:function(e,n){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit}}"],encapsulation:2,changeDetection:0})}}return o})(),Mn=(()=>{class o{constructor(t,e){this._ngZone=t,this._appRef=A(Ne),this._environmentInjector=A(Te),this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=n=>n.isDragging(),this.pointerMove=new _,this.pointerUp=new _,this.scroll=new _,this._preventDefaultWhileDragging=n=>{this._activeDragInstances.length>0&&n.preventDefault()},this._persistentTouchmoveListener=n=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&n.preventDefault(),this.pointerMove.next(n))},this._document=e}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Lt)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),this._dragInstances.size===0&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Lt)}startDragging(t,e){if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._loadResets(),this._activeDragInstances.push(t),this._activeDragInstances.length===1)){let n=e.type.startsWith("touch");this._globalListeners.set(n?"touchend":"mouseup",{handler:s=>this.pointerUp.next(s),options:!0}).set("scroll",{handler:s=>this.scroll.next(s),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Lt}),n||this._globalListeners.set("mousemove",{handler:s=>this.pointerMove.next(s),options:Lt}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((s,r)=>{this._document.addEventListener(r,s.handler,s.options)})})}}stopDragging(t){let e=this._activeDragInstances.indexOf(t);e>-1&&(this._activeDragInstances.splice(e,1),this._activeDragInstances.length===0&&this._clearGlobalListeners())}isDragging(t){return this._activeDragInstances.indexOf(t)>-1}scrolled(t){let e=[this.scroll];return t&&t!==this._document&&e.push(new zt(n=>this._ngZone.runOutsideAngular(()=>{let r=a=>{this._activeDragInstances.length&&n.next(a)};return t.addEventListener("scroll",r,!0),()=>{t.removeEventListener("scroll",r,!0)}}))),nt(...e)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,e)=>{this._document.removeEventListener(e,t.handler,t.options)}),this._globalListeners.clear()}_loadResets(){if(!Ft.has(this._appRef)){Ft.add(this._appRef);let t=je(kn,{environmentInjector:this._environmentInjector});this._appRef.onDestroy(()=>{Ft.delete(this._appRef),Ft.size===0&&t.destroy()})}}static{this.\u0275fac=function(e){return new(e||o)(f(L),f(V))}}static{this.\u0275prov=$({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})(),Ln={dragStartThreshold:5,pointerDirectionChangeThreshold:5},en=(()=>{class o{constructor(t,e,n,s){this._document=t,this._ngZone=e,this._viewportRuler=n,this._dragDropRegistry=s}createDrag(t,e=Ln){return new me(t,e,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new pe(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static{this.\u0275fac=function(e){return new(e||o)(f(V),f(L),f($e),f(Mn))}}static{this.\u0275prov=$({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})(),_e=new S("CDK_DRAG_PARENT");var nn=new S("CdkDragHandle"),on=(()=>{class o{get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._stateChanges.next(this)}constructor(t,e){this.element=t,this._parentDrag=e,this._stateChanges=new _,this._disabled=!1,e?._addHandle(this)}ngOnDestroy(){this._parentDrag?._removeHandle(this),this._stateChanges.complete()}static{this.\u0275fac=function(e){return new(e||o)(m(W),m(_e,12))}}static{this.\u0275dir=Dt({type:o,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:[P.HasDecoratorInputTransform,"cdkDragHandleDisabled","disabled",Xt]},standalone:!0,features:[Yt([{provide:nn,useExisting:o}]),qt]})}}return o})(),Fn=new S("CDK_DRAG_CONFIG"),Nn="cdk-drag",jn=new S("CdkDropList"),sn=(()=>{class o{static{this._dragInstances=[]}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=t,this._dragRef.disabled=this._disabled}constructor(t,e,n,s,r,a,l,c,p,u,E){this.element=t,this.dropContainer=e,this._ngZone=s,this._viewContainerRef=r,this._dir=l,this._changeDetectorRef=p,this._selfHandle=u,this._parentDrag=E,this._destroyed=new _,this._handles=new De([]),this.started=new k,this.released=new k,this.ended=new k,this.entered=new k,this.exited=new k,this.dropped=new k,this.moved=new zt(z=>{let H=this._dragRef.moved.pipe(Ce(Y=>({source:this,pointerPosition:Y.pointerPosition,event:Y.event,delta:Y.delta,distance:Y.distance}))).subscribe(z);return()=>{H.unsubscribe()}}),this._dragRef=c.createDrag(t,{dragStartThreshold:a&&a.dragStartThreshold!=null?a.dragStartThreshold:5,pointerDirectionChangeThreshold:a&&a.pointerDirectionChangeThreshold!=null?a.pointerDirectionChangeThreshold:5,zIndex:a?.zIndex}),this._dragRef.data=this,o._dragInstances.push(this),a&&this._assignDefaults(a),e&&(this._dragRef._withDropContainer(e._dropListRef),e.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(t){this._dragRef.setFreeDragPosition(t)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(G(1),yt(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(t){let e=t.rootElementSelector,n=t.freeDragPosition;e&&!e.firstChange&&this._updateRootElement(),n&&!n.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);let t=o._dragInstances.indexOf(this);t>-1&&o._dragInstances.splice(t,1),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(t){let e=this._handles.getValue();e.push(t),this._handles.next(e)}_removeHandle(t){let e=this._handles.getValue(),n=e.indexOf(t);n>-1&&(e.splice(n,1),this._handles.next(e))}_setPreviewTemplate(t){this._previewTemplate=t}_resetPreviewTemplate(t){t===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(t){this._placeholderTemplate=t}_resetPlaceholderTemplate(t){t===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){let t=this.element.nativeElement,e=t;this.rootElementSelector&&(e=t.closest!==void 0?t.closest(this.rootElementSelector):t.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(e||t)}_getBoundaryElement(){let t=this.boundaryElement;return t?typeof t=="string"?this.element.nativeElement.closest(t):C(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){let e=this._dir,n=this.dragStartDelay,s=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,r=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay=typeof n=="object"&&n?n:ht(n),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(s).withPreviewTemplate(r).withPreviewContainer(this.previewContainer||"global"),e&&t.withDirection(e.value)}}),t.beforeStarted.pipe(G(1)).subscribe(()=>{if(this._parentDrag){t.withParent(this._parentDrag._dragRef);return}let e=this.element.nativeElement.parentElement;for(;e;){if(e.classList.contains(Nn)){t.withParent(o._dragInstances.find(n=>n.element.nativeElement===e)?._dragRef||null);break}e=e.parentElement}})}_handleEvents(t){t.started.subscribe(e=>{this.started.emit({source:this,event:e.event}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(e=>{this.released.emit({source:this,event:e.event})}),t.ended.subscribe(e=>{this.ended.emit({source:this,distance:e.distance,dropPoint:e.dropPoint,event:e.event}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(e=>{this.entered.emit({container:e.container.data,item:this,currentIndex:e.currentIndex})}),t.exited.subscribe(e=>{this.exited.emit({container:e.container.data,item:this})}),t.dropped.subscribe(e=>{this.dropped.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex,previousContainer:e.previousContainer.data,container:e.container.data,isPointerOverContainer:e.isPointerOverContainer,item:this,distance:e.distance,dropPoint:e.dropPoint,event:e.event})})}_assignDefaults(t){let{lockAxis:e,dragStartDelay:n,constrainPosition:s,previewClass:r,boundaryElement:a,draggingDisabled:l,rootElementSelector:c,previewContainer:p}=t;this.disabled=l??!1,this.dragStartDelay=n||0,e&&(this.lockAxis=e),s&&(this.constrainPosition=s),r&&(this.previewClass=r),a&&(this.boundaryElement=a),c&&(this.rootElementSelector=c),p&&(this.previewContainer=p)}_setupHandlesListener(){this._handles.pipe(Ee(t=>{let e=t.map(n=>n.element);this._selfHandle&&this.rootElementSelector&&e.push(this.element),this._dragRef.withHandles(e)}),Pe(t=>nt(...t.map(e=>e._stateChanges.pipe(Q(e))))),yt(this._destroyed)).subscribe(t=>{let e=this._dragRef,n=t.element.nativeElement;t.disabled?e.disableHandle(n):e.enableHandle(n)})}static{this.\u0275fac=function(e){return new(e||o)(m(W),m(jn,12),m(V),m(L),m(Re),m(Fn,8),m(lt,8),m(en),m(Ct),m(nn,10),m(_e,12))}}static{this.\u0275dir=Dt({type:o,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(e,n){e&2&&N("cdk-drag-disabled",n.disabled)("cdk-drag-dragging",n._dragRef.isDragging())},inputs:{data:[P.None,"cdkDragData","data"],lockAxis:[P.None,"cdkDragLockAxis","lockAxis"],rootElementSelector:[P.None,"cdkDragRootElement","rootElementSelector"],boundaryElement:[P.None,"cdkDragBoundary","boundaryElement"],dragStartDelay:[P.None,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[P.None,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[P.HasDecoratorInputTransform,"cdkDragDisabled","disabled",Xt],constrainPosition:[P.None,"cdkDragConstrainPosition","constrainPosition"],previewClass:[P.None,"cdkDragPreviewClass","previewClass"],previewContainer:[P.None,"cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[Yt([{provide:_e,useExisting:o}]),qt,Ht]})}}return o})();var rn=(()=>{class o{static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275mod=J({type:o})}static{this.\u0275inj=X({providers:[en],imports:[qe]})}}return o})();var an=(o,i)=>i.id;function Bn(o,i){if(o&1){let t=tt();d(0,"div",9)(1,"div",10)(2,"button",11),w("click",function(){let n=y(t).$implicit,s=b();return D(s.editActivity(n))}),d(3,"mat-icon"),g(4,"edit"),h()()(),d(5,"mat-card",12),w("cdkDragEnded",function(n){let s=y(t).$implicit,r=b();return D(r.onDragEnded(n,s))})("cdkDragStarted",function(){y(t);let n=b();return D(n.onDragStarted())})("click",function(){let n=y(t).$implicit,s=b();return D(!s.isDragging&&s.openLogDrawer(n))}),d(6,"mat-card-content",13)(7,"h3"),g(8),h(),d(9,"p",14),g(10),h()(),d(11,"button",15),w("click",function(n){let s=y(t).$implicit,r=b();return n.stopPropagation(),D(r.editActivity(s))}),d(12,"mat-icon"),g(13,"edit"),h()()()()}if(o&2){let t=i.$implicit,e=b();N("dragging",e.isDragging),v(5),R("cdkDragDisabled",!e.isMobile)("cdkDragConstrainPosition",e.constrainDrag)("cdkDragLockAxis","x"),v(3),xt(t.name),v(2),at("",t.ratio,"x labour per reward")}}function zn(o,i){if(o&1){let t=tt();d(0,"div",9)(1,"div",10)(2,"button",11),w("click",function(){let n=y(t).$implicit,s=b();return D(s.editActivity(n))}),d(3,"mat-icon"),g(4,"edit"),h()()(),d(5,"mat-card",12),w("cdkDragEnded",function(n){let s=y(t).$implicit,r=b();return D(r.onDragEnded(n,s))})("cdkDragStarted",function(){y(t);let n=b();return D(n.onDragStarted())})("click",function(){let n=y(t).$implicit,s=b();return D(!s.isDragging&&s.openLogDrawer(n))}),d(6,"mat-card-content",13)(7,"h3"),g(8),h(),d(9,"p",14),g(10),h()(),d(11,"button",15),w("click",function(n){let s=y(t).$implicit,r=b();return n.stopPropagation(),D(r.editActivity(s))}),d(12,"mat-icon"),g(13,"edit"),h()()()()}if(o&2){let t=i.$implicit,e=b();N("dragging",e.isDragging),v(5),R("cdkDragDisabled",!e.isMobile)("cdkDragConstrainPosition",e.constrainDrag)("cdkDragLockAxis","x"),v(3),xt(t.name),v(2),at("",t.ratio,"x reward per activity")}}function Hn(o,i){if(o&1){let t=tt();d(0,"h2"),g(1),h(),d(2,"form",16),w("ngSubmit",function(){y(t);let n=b();return D(n.saveLog())}),d(3,"div",17)(4,"button",18),w("click",function(){y(t);let n=b();return D(n.adjustTime(-15))}),d(5,"mat-icon"),g(6,"remove"),h()(),d(7,"mat-form-field",19)(8,"mat-label"),g(9,"Minutes"),h(),rt(10,"input",20),d(11,"mat-hint"),g(12,"Enter time in minutes"),h()(),d(13,"button",18),w("click",function(){y(t);let n=b();return D(n.adjustTime(15))}),d(14,"mat-icon"),g(15,"add"),h()()(),d(16,"div",21)(17,"button",22),w("click",function(){y(t);let n=b();return D(n.closeDrawer())}),g(18," Cancel "),h(),d(19,"button",23),g(20," Log Time "),h()()()}if(o&2){let t=b();v(),at("Log Time for ",t.selectedActivity==null?null:t.selectedActivity.name,""),v(),R("formGroup",t.logForm),v(17),R("disabled",!t.logForm.valid)}}function Gn(o,i){o&1&&(d(0,"mat-form-field",19)(1,"mat-label"),g(2,"Labour to Reward Ratio"),h(),rt(3,"input",31),d(4,"mat-hint"),g(5,"Labour minutes needed per reward minute"),h()())}function $n(o,i){o&1&&(d(0,"mat-form-field",19)(1,"mat-label"),g(2,"Cost Rate"),h(),rt(3,"input",31),d(4,"mat-hint"),g(5,"Reward minutes needed per activity minute"),h()())}function qn(o,i){if(o&1){let t=tt();d(0,"button",32),w("click",function(){y(t);let n=b(2);return D(n.deleteActivity(n.editingActivity))}),g(1," Delete Activity "),h()}}function Wn(o,i){if(o&1){let t=tt();d(0,"h2"),g(1),h(),d(2,"form",16),w("ngSubmit",function(){y(t);let n=b();return D(n.saveActivity())}),d(3,"mat-form-field",19)(4,"mat-label"),g(5,"Name"),h(),rt(6,"input",24),h(),d(7,"mat-form-field",19)(8,"mat-label"),g(9,"Type"),h(),d(10,"mat-select",25)(11,"mat-option",26),g(12,"Labour"),h(),d(13,"mat-option",27),g(14,"Reward"),h()()(),Oe(15,28),F(16,Gn,6,0,"mat-form-field",29)(17,$n,6,0,"mat-form-field",29),Ae(),d(18,"div",21),F(19,qn,2,0,"button",30),d(20,"button",22),w("click",function(){y(t);let n=b();return D(n.closeDrawer())}),g(21," Cancel "),h(),d(22,"button",23),g(23),h()()()}if(o&2){let t,e=b();v(),xt(e.editingActivity?"Edit Activity":"New Activity"),v(),R("formGroup",e.activityForm),v(13),R("ngSwitch",(t=e.activityForm.get("type"))==null?null:t.value),v(),R("ngSwitchCase","labour"),v(),R("ngSwitchCase","reward"),v(2),Wt(19,e.editingActivity?19:-1),v(3),R("disabled",!e.activityForm.valid),v(),at(" ",e.editingActivity?"Update":"Create"," ")}}var Rs=(()=>{class o{constructor(t,e,n,s){this.dialog=t,this.snackBar=e,this.fb=n,this.activitiesService=s,this.activities=[],this.isDrawerOpen=!1,this.editingActivity=null,this.isLoggingActivity=!1,this.selectedActivity=null,this.isDragging=!1,this.isMobile=window.innerWidth<768,this.constrainDrag=(r,a,l,c)=>{if(!this.isMobile)return{x:0,y:0};let p=l.left,u=r.x-c.x-p;return{x:Math.min(0,Math.max(-80,u))+p,y:0}},this.activityForm=this.fb.group({name:["",U.required],type:["labour",U.required],ratio:[1,[U.required,U.min(.1)]]}),this.logForm=this.fb.group({minutes:[15,[U.required,U.min(1)]]}),window.addEventListener("resize",()=>{this.isMobile=window.innerWidth<768})}ngOnInit(){this.activitiesSubscription=this.activitiesService.activities().subscribe(t=>{this.activities=t})}ngOnDestroy(){this.activitiesSubscription&&this.activitiesSubscription.unsubscribe()}openNewActivity(){this.editingActivity=null,this.isLoggingActivity=!1,this.isDrawerOpen=!0,this.activityForm.reset({type:"labour",ratio:1})}openLogDrawer(t){this.selectedActivity=t,this.isLoggingActivity=!0,this.isDrawerOpen=!0,this.logForm.reset({minutes:15})}editActivity(t){this.editingActivity=t,this.isLoggingActivity=!1,this.isDrawerOpen=!0,this.activityForm.patchValue({name:t.name,type:t.type,ratio:t.ratio})}deleteActivity(t){return vt(this,null,function*(){try{if(!window.confirm(`Are you sure you want to delete ${t.name}?`))return;yield this.activitiesService.deleteActivity(t.id),this.showSuccess("Activity deleted successfully")}catch(e){console.error("Error deleting activity:",e),this.showError("Failed to delete activity")}})}closeDrawer(){this.isDrawerOpen=!1,this.editingActivity=null,this.selectedActivity=null,this.isLoggingActivity=!1,this.activityForm.reset(),this.logForm.reset()}saveActivity(){return vt(this,null,function*(){if(this.activityForm.valid)try{let t=this.activityForm.value;this.editingActivity?(yield this.activitiesService.updateActivity(this.editingActivity.id,t),this.showSuccess("Activity updated successfully")):(yield this.activitiesService.createActivity(t),this.showSuccess("Activity created successfully")),this.closeDrawer()}catch(t){console.error("Error saving activity:",t),this.showError("Failed to save activity")}})}saveLog(){return vt(this,null,function*(){if(this.logForm.valid&&this.selectedActivity)try{let t=this.logForm.value.minutes,e=this.selectedActivity.name;yield this.activitiesService.logTime(this.selectedActivity.id,t),this.closeDrawer(),this.showSuccess(`Logged ${t} minutes for ${e}`)}catch(t){console.error("Error logging time:",t),this.showError("Failed to log time")}})}adjustTime(t){let e=this.logForm.get("minutes")?.value||0,n=Math.max(1,e+t);this.logForm.patchValue({minutes:n})}showSuccess(t){this.snackBar.open(t,"Close",{duration:3e3,horizontalPosition:"end",verticalPosition:"top"})}showError(t){this.snackBar.open(t,"Close",{duration:5e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["error-snackbar"]})}onDragStarted(){this.isMobile&&(this.isDragging=!0)}onDragEnded(t,e){this.isMobile&&(this.isDragging=!1,t.distance.x<=-50&&this.editActivity(e),t.source.reset())}static{this.\u0275fac=function(e){return new(e||o)(m(le),m(oi),m(bi),m(ci))}}static{this.\u0275cmp=M({type:o,selectors:[["app-activities"]],standalone:!0,features:[j],decls:33,vars:9,consts:[[1,"activities-container"],[1,"header"],["mat-raised-button","","color","primary",3,"click"],[1,"activities-section"],[1,"activities-grid"],[1,"activity-card-container",3,"dragging"],[1,"drawer"],[1,"drawer-content"],["mat-icon-button","",1,"close-button",3,"click"],[1,"activity-card-container"],[1,"activity-card-background"],["mat-icon-button","",1,"edit-button",3,"click"],["cdkDrag","",1,"activity-card",3,"cdkDragEnded","cdkDragStarted","click","cdkDragDisabled","cdkDragConstrainPosition","cdkDragLockAxis"],["cdkDragHandle",""],[1,"ratio"],["mat-icon-button","","cdkDragHandle","false",1,"edit-button","desktop-only",3,"click"],[3,"ngSubmit","formGroup"],[1,"time-input-group"],["type","button","mat-icon-button","",3,"click"],["appearance","outline"],["matInput","","type","number","formControlName","minutes","required","","min","1","step","1"],[1,"form-actions"],["mat-button","","type","button",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["matInput","","formControlName","name","required",""],["formControlName","type","required",""],["value","labour"],["value","reward"],[3,"ngSwitch"],["appearance","outline",4,"ngSwitchCase"],["mat-button","","color","warn","type","button"],["matInput","","type","number","formControlName","ratio","required","","min","0.1","step","0.1"],["mat-button","","color","warn","type","button",3,"click"]],template:function(e,n){e&1&&(d(0,"div",0)(1,"div",1)(2,"h1"),g(3,"Activities"),h(),d(4,"button",2),w("click",function(){return n.openNewActivity()}),d(5,"mat-icon"),g(6,"add"),h(),g(7," New Activity "),h()(),d(8,"div",3)(9,"h2")(10,"mat-icon"),g(11,"work"),h(),g(12," Labour Activities "),h(),d(13,"div",4),Ut(14,Bn,14,7,"div",5,an),Kt(16,"activityFilter"),h()(),d(17,"div",3)(18,"h2")(19,"mat-icon"),g(20,"stars"),h(),g(21," Reward Activities "),h(),d(22,"div",4),Ut(23,zn,14,7,"div",5,an),Kt(25,"activityFilter"),h()(),d(26,"div",6)(27,"div",7)(28,"button",8),w("click",function(){return n.closeDrawer()}),d(29,"mat-icon"),g(30,"close"),h()(),F(31,Hn,21,3)(32,Wn,24,8),h()()()),e&2&&(v(14),Zt(Qt(16,3,n.activities,"labour")),v(9),Zt(Qt(25,6,n.activities,"reward")),v(3),N("open",n.isDrawerOpen),v(5),Wt(31,n.isLoggingActivity?31:32))},dependencies:[He,Be,ze,Xe,Ke,Qe,ti,Je,Mi,si,Ci,xi,Di,wi,Ii,Ei,Ye,Pi,Si,li,ri,ai,yi,gi,di,pi,hi,mi,vi,fi,_i,ui,Li,rn,sn,on],styles:[".activities-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;position:relative;min-height:100%;padding:20px}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:32px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0}.activities-section[_ngcontent-%COMP%]{margin-bottom:40px}.activities-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:16px;color:#000000de}.activities-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#1976d2}.activities-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:16px}.activity-card-container[_ngcontent-%COMP%]{position:relative;touch-action:pan-x;user-select:none;-webkit-user-select:none;-webkit-touch-callout:none;border-radius:4px}.activity-card-container.dragging[_ngcontent-%COMP%]{z-index:100}.activity-card-container.dragging[_ngcontent-%COMP%]   .activity-card-background[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]{opacity:1}.activity-card-container[_ngcontent-%COMP%]   .activity-card-background[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;width:80px;background-color:#f5f5f5;display:flex;align-items:center;justify-content:center;z-index:1}.activity-card-container[_ngcontent-%COMP%]   .activity-card-background[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]{opacity:0;transition:opacity .2s ease}.activity-card-container[_ngcontent-%COMP%]   .activity-card[_ngcontent-%COMP%]{position:relative;z-index:2;background:#fff;margin:0;cursor:pointer;transition:transform .2s ease}.activity-card-container[_ngcontent-%COMP%]   .activity-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 8px #0000001a}.activity-card-container[_ngcontent-%COMP%]   .activity-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:16px}.activity-card-container[_ngcontent-%COMP%]   .activity-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-size:1.1rem;font-weight:500}.activity-card-container[_ngcontent-%COMP%]   .activity-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .ratio[_ngcontent-%COMP%]{margin:0;color:#0009;font-size:.9rem}.activity-card-container[_ngcontent-%COMP%]   .activity-card[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;opacity:0;transition:opacity .2s ease}@media (max-width: 767px){.activity-card-container[_ngcontent-%COMP%]   .activity-card[_ngcontent-%COMP%]   .edit-button.desktop-only[_ngcontent-%COMP%]{display:none}}.activity-card-container[_ngcontent-%COMP%]   .activity-card[_ngcontent-%COMP%]:hover   .edit-button[_ngcontent-%COMP%]{opacity:1}@media (max-width: 767px){.activities-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.activity-card-container[_ngcontent-%COMP%]   .activity-card[_ngcontent-%COMP%]{transform:translate(0);transition:transform .2s ease}.activity-card-container[_ngcontent-%COMP%]   .activity-card[_ngcontent-%COMP%]:hover{transform:none;box-shadow:none}.activity-card-container.dragging[_ngcontent-%COMP%]   .activity-card[_ngcontent-%COMP%]{transition:none}}.drawer[_ngcontent-%COMP%]{position:fixed;top:0;right:-400px;width:400px;height:100vh;background:#fff;box-shadow:-2px 0 8px #0000001a;transition:right .3s ease-in-out;z-index:1000}.drawer.open[_ngcontent-%COMP%]{right:0}.drawer-content[_ngcontent-%COMP%]{padding:24px;height:100%;overflow-y:auto}.drawer-content[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{position:absolute;top:16px;right:16px}.drawer-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 24px;padding-right:40px}.drawer-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.time-input-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.time-input-group[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex:1}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:8px;margin-top:24px}*[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent}"]})}}return o})();export{Rs as ActivitiesComponent};
